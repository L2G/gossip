---
layout: site
title: Using Bundled Scripts
include_toc: true
validation_rev: 2
validated: true
---
<h2><a name="definitions">Three important words</a></h2>
<p>
All of the scripts do two things: they <em>learn</em> a <strong>scandal</strong> and its <strong>details</strong> from somewhere, then they <em>send</em> what they've learned to one or more <strong>cronies</strong>. Decoding the cutesy metaphor:
</p>

<ul>
  <li>
  <p>
  A <strong>scandal</strong> is a short piece of text, like the Subject line of an email message.
  </p>
  </li>
  <li>
  <p>
  The <strong>details</strong> are, usually, a longer piece of text, like the body of an email message. The distinction is important because some cronies, like Twitter, only get the scandal and not the details.
  </p>
  </li>
  <li>
  <p>
  <strong>Cronies</strong> represent a destination for the information. Cronies can be sites like <a href="http://twitter.com">Twitter</a> or <a href="http://www.campfirenow.com">Campfire</a>, or they can be programs like email or <a href="http://jabber.org">Jabber</a>.
  </p>
  </li>
</ul>

<h2><a name="config">Your own private configuration</a></h2>
<p>
Unless someone's already done it for you, there's a little work to do before you can use one of the Gossip scripts. You have to tell them where, by default, their messages should go. You <em>can</em> give all that information on the command line, but you likely don't want to. Instead, you want to put it in a configuration file.
</p>

<p>
The main Gossip configuration file is named <code>.gossip</code> (note the leading period) in your home directory. The home directory is defined as being whatever <a href="http://www.rubygems.org/read/chapter/12">RubyGems thinks
</a> it is. Entries in the configuration file apply to all Gossip scripts. You can override them with a script-specific configuration file. (You don't have to: you can put even script-specific configuration entries in <code>.gossip</code>.)
</p>

<p>Here is a sample configuration file, valid as of this writing. You can find the latest version in <code>examples/all-config-file-choices.yml</code> in the distribution. The file is in <a href="http://www.yaml.org/" title="YAML Ain't Markup Language">YAML</a> format.
</p>
<pre>
	# Turn cronies (destinations) on or off.

	standard-output: true
	jabber: false
	mail: false
	campfire: false
	trac: false
	twitter: false

	# Configurations for each destination. 
	# You can delete or ignore ones you don't plan to use. 

	jabber-account: jabber@example.com
	jabber-password: not-the-real-one
	jabber-to: 
	    - brianmarick@example.com

	mail-to: 
	    - marick@example.com
	    - dawn@example.com

	mail-from: bmarick@mac.com
	mail-server: smtp.mac.com
	mail-port: 587
	mail-from-domain: localhost.localdomain
	mail-account: bmarick
	mail-password: not-the-real-one
	mail-authentication: login

	campfire-login: marick@example.com
	campfire-password: not-the-real-one
	campfire-subdomain: example
	campfire-room: room

	twitter-login: twittername
	twitter-password: some password
	
	trac-admin-path: /usr/local/bin/trac-admin
	trac-environment-path: /home/user/trac_env1
	trac-page-name: AnnouncingSuccessfulDeployment
	trac-content-file: /home/user/tmp/deployment.log
	
				</pre>

<p>
With luck, the names alone are enough for you to know what values to use. If not, <a href="cronies.html">look here</a> or ask for command-line help:
</p>
<pre>
	$ ruby scripts/fanout --help
	Usage: ruby scripts/fanout [options] program args...
	Site-wide defaults are noted below.
	Override them in the '.fanoutrc' or '.gossiprc' files in your home folder.

	Options:
	        --[no-]choices               Show all configuration choices.
	    -s, --[no-]standard-output       Control display to terminal (standard output).
	                                     Defaults to true.
	    -m, --[no-]mail                  Control mail notification.
	                                     Defaults to false.
	    -j, --[no-]jabber                Control IM notification.
	                                     Defaults to false.
	    -c, --[no-]campfire              Control display to Campfire chat room.
	                                     Defaults to false.
	    -t, --[no-]twitter               Control whether Twitter updates are made.
	                                     Defaults to false.
	        --mail-to RECIPIENTS         <strong>Recipients of mail.</strong>
	                                     This can be a comma-separated list.
	                                     Defaults to ["listener@example.com"].
	        --mail-from SENDER           <strong>The sender of the mail (appears in From line).</strong>
	                                     Defaults to "watchdog@example.com".
	        --mail-server HOSTNAME       <strong>SMTP server.</strong> Defaults to "example.com".
	        --mail-port NUMBER           <strong>Mail port on that server.</strong>
	                                     Defaults to 25.
	<em>...</em>
				</pre>

<p>If you make a typo in the configuration file, Gossip will not complain. So it's useful to use the <code>--choices</code> argument to see that it's gotten the values you want:</p>
<pre>
	$ ruby scripts/fanout --choices
	Looking for configuration information in:
	  /Users/marick/.fanoutrc
	  /Users/marick/.gossiprc
	Choices gathered from all sources:
	  :arglist=>[]
	  :campfire=>false
	  :campfire_login=>"marick@example.com"
	  :campfire_password=>"not the real one"
	  :campfire_room=>"room"
	  :campfire_subdomain=>"example"
	  :choices=>true
	  :jabber=>false
	  :jabber_account=>"something@jabber.com"
	  :jabber_password=>"not the real one"
	  :jabber_to=>["brianmarick@jabber.se"]
	  ...
</pre>			

<p>
You can always override the configuration file from the command line.
</p>

<p style="text-align: center">
	<a href="cronies.html">Next</a>: All cronies<br />
	<a href="scripts.html">After that</a>: All scripts<br />
</p>
